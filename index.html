<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Modern Messenger</title>
  <script src="https://unpkg.com/react@17/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      -webkit-tap-highlight-color: transparent;
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
      touch-action: manipulation;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      background-color: #000;
      color: #fff;
      overflow-x: hidden;
    }
    
    .app-container {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }
    
    /* Login Screen */
    .login-container {
      min-height: 100vh;
      background-color: #000;
      color: #fff;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 1rem;
    }
    
    .login-box {
      width: 100%;
      max-width: 28rem;
      transition: all 0.3s;
    }
    
    .login-header {
      text-align: center;
      margin-bottom: 3rem;
      transition: all 0.5s;
    }
    
    .logo-circle {
      width: 5rem;
      height: 5rem;
      background-color: #fff;
      border-radius: 50%;
      margin: 0 auto 1rem;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.5s;
    }
    
    .logo-circle:hover {
      transform: scale(1.1) rotate(12deg);
    }
    
    .logo-icon {
      width: 2.5rem;
      height: 2.5rem;
      color: #000;
    }
    
    .login-title {
      font-size: 2.25rem;
      font-weight: bold;
      margin-bottom: 0.5rem;
    }
    
    .login-subtitle {
      color: #9ca3af;
    }
    
    .error-box {
      margin-bottom: 1rem;
      padding: 1rem;
      background-color: rgba(239, 68, 68, 0.2);
      border: 1px solid #ef4444;
      border-radius: 1.5rem;
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }
    
    .error-icon {
      width: 1.25rem;
      height: 1.25rem;
      color: #ef4444;
      flex-shrink: 0;
    }
    
    .error-text {
      font-size: 0.875rem;
      color: #fca5a5;
    }
    
    .input-field {
      width: 100%;
      padding: 1rem 1.5rem;
      background-color: rgba(255, 255, 255, 0.1);
      border-radius: 9999px;
      color: #fff;
      outline: none;
      transition: all 0.3s;
      margin-bottom: 1rem;
      border: none;
      font-size: 1rem;
    }
    
    .input-field:focus {
      background-color: rgba(255, 255, 255, 0.2);
      transform: scale(1.02);
    }
    
    .input-field:hover {
      transform: scale(1.02);
    }
    
    .input-field::placeholder {
      color: #9ca3af;
    }
    
    .btn-primary {
      width: 100%;
      padding: 1rem;
      background-color: #fff;
      color: #000;
      font-weight: 600;
      border-radius: 9999px;
      border: none;
      cursor: pointer;
      transition: all 0.3s;
      margin-bottom: 1rem;
      font-size: 1rem;
    }
    
    .btn-primary:hover {
      background-color: rgba(255, 255, 255, 0.9);
      transform: scale(1.05);
    }
    
    .btn-primary:active {
      transform: scale(0.95);
    }
    
    .auth-switch {
      text-align: center;
      padding-top: 1rem;
    }
    
    .auth-switch-text {
      color: #9ca3af;
    }
    
    .auth-switch-btn {
      color: #fff;
      font-weight: 600;
      background: none;
      border: none;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .auth-switch-btn:hover {
      text-decoration: underline;
    }
    
    /* Main App */
    .main-container {
      min-height: 100vh;
      background-color: #000;
      color: #fff;
      display: flex;
      flex-direction: column;
    }
    
    .header {
      padding: 1rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
    }
    
    .header-title {
      font-size: 1.5rem;
      font-weight: bold;
    }
    
    .icon-btn {
      padding: 0.5rem;
      border-radius: 50%;
      border: none;
      background: none;
      cursor: pointer;
      transition: all 0.3s;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .icon-btn:hover {
      background-color: rgba(255, 255, 255, 0.1);
      transform: rotate(90deg);
    }
    
    .icon-btn:active {
      transform: scale(0.95);
    }
    
    .search-bar {
      padding: 1rem;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .search-input {
      width: 100%;
      padding: 0.75rem 1rem;
      background-color: rgba(255, 255, 255, 0.1);
      border-radius: 9999px;
      color: #fff;
      outline: none;
      border: none;
      transition: all 0.3s;
    }
    
    .search-input:focus {
      background-color: rgba(255, 255, 255, 0.2);
    }
    
    .chats-list {
      flex: 1;
      overflow-y: auto;
      padding-bottom: 5rem;
    }
    
    .chat-item {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      padding: 1rem;
      cursor: pointer;
      transition: all 0.3s;
      position: relative;
    }
    
    .chat-item:hover {
      background-color: rgba(255, 255, 255, 0.05);
      transform: translateX(0.25rem);
    }
    
    .chat-item:active {
      background-color: rgba(255, 255, 255, 0.1);
    }
    
    .chat-avatar {
      width: 3.5rem;
      height: 3.5rem;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      font-size: 1.5rem;
      color: white;
      transition: all 0.3s;
    }
    
    .chat-avatar:hover {
      transform: scale(1.1);
    }
    
    .verified-badge {
      position: absolute;
      bottom: 0.75rem;
      left: 3.5rem;
      width: 1.25rem;
      height: 1.25rem;
      background-color: #3b82f6;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      border: 2px solid #000;
    }
    
    .chat-info {
      flex: 1;
      min-width: 0;
    }
    
    .chat-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 0.25rem;
    }
    
    .chat-username {
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 0.25rem;
    }
    
    .chat-time {
      font-size: 0.75rem;
      color: #9ca3af;
    }
    
    .chat-last-message {
      font-size: 0.875rem;
      color: #9ca3af;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    
    .unread-badge {
      width: 1.5rem;
      height: 1.5rem;
      background-color: #fff;
      color: #000;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.75rem;
      font-weight: bold;
    }
    
    /* Chat Screen */
    .chat-container {
      flex: 1;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }
    
    .chat-header-detailed {
      padding: 1rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
    }
    
    .chat-header-left {
      display: flex;
      align-items: center;
      gap: 1rem;
    }
    
    .back-btn {
      background: none;
      border: none;
      color: white;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .chat-header-right {
      display: flex;
      gap: 0.5rem;
    }
    
    .messages-container {
      flex: 1;
      overflow-y: auto;
      padding: 1rem;
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }
    
    .message {
      max-width: 70%;
      padding: 0.75rem 1rem;
      border-radius: 1.5rem;
      position: relative;
      word-wrap: break-word;
    }
    
    .message-sent {
      align-self: flex-end;
      background-color: #3b82f6;
      border-bottom-right-radius: 0.5rem;
    }
    
    .message-received {
      align-self: flex-start;
      background-color: rgba(255, 255, 255, 0.1);
      border-bottom-left-radius: 0.5rem;
    }
    
    .message-text {
      margin-bottom: 0.25rem;
    }
    
    .message-time {
      font-size: 0.75rem;
      opacity: 0.7;
      text-align: right;
    }
    
    .message-reactions {
      display: flex;
      gap: 0.25rem;
      margin-top: 0.25rem;
      flex-wrap: wrap;
    }
    
    .reaction {
      background-color: rgba(0, 0, 0, 0.3);
      border-radius: 0.75rem;
      padding: 0.125rem 0.375rem;
      font-size: 0.75rem;
      display: flex;
      align-items: center;
      gap: 0.125rem;
    }
    
    .reaction-picker {
      position: absolute;
      bottom: 100%;
      left: 50%;
      transform: translateX(-50%);
      background-color: rgba(0, 0, 0, 0.8);
      border-radius: 1.5rem;
      padding: 0.5rem;
      display: flex;
      gap: 0.5rem;
      z-index: 10;
      backdrop-filter: blur(10px);
    }
    
    .reaction-option {
      background: none;
      border: none;
      font-size: 1.5rem;
      cursor: pointer;
      transition: transform 0.2s;
    }
    
    .reaction-option:hover {
      transform: scale(1.2);
    }
    
    .input-container {
      display: flex;
      padding: 1rem;
      gap: 0.5rem;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .message-input {
      flex: 1;
      padding: 0.75rem 1rem;
      background-color: rgba(255, 255, 255, 0.1);
      border-radius: 1.5rem;
      color: #fff;
      outline: none;
      border: none;
      font-size: 1rem;
    }
    
    .send-btn {
      background-color: #3b82f6;
      border: none;
      border-radius: 50%;
      width: 3rem;
      height: 3rem;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.3s;
    }
    
    .send-btn:hover {
      background-color: #2563eb;
      transform: scale(1.05);
    }
    
    .send-btn:active {
      transform: scale(0.95);
    }
    
    /* Settings */
    .settings-container {
      flex: 1;
      overflow-y: auto;
      padding-bottom: 5rem;
    }
    
    .profile-section {
      padding: 1.5rem;
      text-align: center;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .profile-avatar {
      width: 6rem;
      height: 6rem;
      border-radius: 50%;
      margin: 0 auto 1rem;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      font-size: 2.5rem;
      color: white;
      transition: all 0.5s;
    }
    
    .profile-avatar:hover {
      transform: scale(1.1) rotate(6deg);
    }
    
    .profile-name {
      font-size: 1.25rem;
      font-weight: bold;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
    }
    
    .settings-section {
      padding: 1rem;
    }
    
    .section-title {
      font-size: 0.875rem;
      font-weight: bold;
      color: #9ca3af;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      margin-bottom: 0.75rem;
      padding-left: 0.5rem;
    }
    
    .settings-item {
      padding: 1rem;
      background-color: rgba(255, 255, 255, 0.05);
      border-radius: 1.5rem;
      margin-bottom: 0.25rem;
      cursor: pointer;
      transition: all 0.3s;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    
    .settings-item:hover {
      background-color: rgba(255, 255, 255, 0.1);
      transform: translateX(0.25rem);
    }
    
    .settings-item:active {
      transform: scale(0.98);
    }
    
    .settings-label {
      font-size: 0.875rem;
      color: #9ca3af;
    }
    
    .settings-value {
      font-weight: 500;
    }
    
    .toggle-switch {
      position: relative;
      display: inline-block;
      width: 3rem;
      height: 1.5rem;
    }
    
    .toggle-switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }
    
    .toggle-slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: rgba(255, 255, 255, 0.2);
      transition: .4s;
      border-radius: 1.5rem;
    }
    
    .toggle-slider:before {
      position: absolute;
      content: "";
      height: 1.125rem;
      width: 1.125rem;
      left: 0.25rem;
      bottom: 0.1875rem;
      background-color: white;
      transition: .4s;
      border-radius: 50%;
    }
    
    input:checked + .toggle-slider {
      background-color: #3b82f6;
    }
    
    input:checked + .toggle-slider:before {
      transform: translateX(1.375rem);
    }
    
    /* Bottom Navigation */
    .bottom-nav {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background-color: #000;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      z-index: 100;
    }
    
    .nav-container {
      display: flex;
      align-items: center;
      justify-content: space-around;
      padding: 0.75rem 1rem;
      max-width: 28rem;
      margin: 0 auto;
    }
    
    .nav-btn {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.25rem;
      padding: 0.5rem 1.5rem;
      border-radius: 9999px;
      border: none;
      background: none;
      cursor: pointer;
      transition: all 0.3s;
    }
    
    .nav-btn:active {
      transform: scale(0.95);
    }
    
    .nav-btn.active {
      background-color: rgba(255, 255, 255, 0.1);
      transform: scale(1.05);
    }
    
    .nav-btn:hover:not(.active) {
      transform: scale(1.05);
    }
    
    .nav-icon {
      width: 1.5rem;
      height: 1.5rem;
      transition: all 0.3s;
    }
    
    .nav-icon.active {
      color: #fff;
    }
    
    .nav-icon.inactive {
      color: #9ca3af;
    }
    
    .nav-label {
      font-size: 0.75rem;
      font-weight: 500;
      transition: all 0.3s;
    }
    
    .nav-label.active {
      color: #fff;
    }
    
    .nav-label.inactive {
      color: #9ca3af;
    }
    
    /* Context Menu */
    .context-menu {
      position: fixed;
      background-color: rgba(0, 0, 0, 0.9);
      border-radius: 1rem;
      padding: 0.5rem;
      z-index: 1000;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .context-menu-item {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      padding: 0.75rem 1rem;
      border-radius: 0.75rem;
      cursor: pointer;
      transition: background-color 0.2s;
      white-space: nowrap;
    }
    
    .context-menu-item:hover {
      background-color: rgba(255, 255, 255, 0.1);
    }
    
    /* Animations */
    @keyframes fade-in {
      from { opacity: 0; transform: translateY(-20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-10px); }
      75% { transform: translateX(10px); }
    }
    
    @keyframes slide-down {
      from { opacity: 0; transform: translateY(-20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    @keyframes slide-in-left {
      from { opacity: 0; transform: translateX(-30px); }
      to { opacity: 1; transform: translateX(0); }
    }
    
    @keyframes bounce-subtle {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.1); }
    }
    
    .animate-fade-in {
      animation: fade-in 0.6s ease-out;
    }
    
    .animate-shake {
      animation: shake 0.4s ease-in-out;
    }
    
    .animate-slide-down {
      animation: slide-down 0.3s ease-out;
    }
    
    .animate-bounce-subtle {
      animation: bounce-subtle 2s infinite;
    }
    
    .opacity-0 {
      opacity: 0;
    }
    
    .opacity-100 {
      opacity: 1;
    }
    
    .scale-95 {
      transform: scale(0.95);
    }
    
    .scale-100 {
      transform: scale(1);
    }
    
    /* Hide scrollbars but keep functionality */
    .chats-list::-webkit-scrollbar,
    .messages-container::-webkit-scrollbar,
    .settings-container::-webkit-scrollbar {
      display: none;
    }
    
    .chats-list,
    .messages-container,
    .settings-container {
      -ms-overflow-style: none;
      scrollbar-width: none;
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect, useRef } = React;

    // Ð˜ÐºÐ¾Ð½ÐºÐ¸ Ð² Ð²Ð¸Ð´Ðµ SVG ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚Ð¾Ð²
    const SearchIcon = ({ className = '' }) => (
      React.createElement('svg', {
        xmlns: 'http://www.w3.org/2000/svg',
        width: 24,
        height: 24,
        viewBox: '0 0 24 24',
        fill: 'none',
        stroke: 'currentColor',
        strokeWidth: 2,
        strokeLinecap: 'round',
        strokeLinejoin: 'round',
        className
      },
        React.createElement('circle', { cx: 11, cy: 11, r: 8 }),
        React.createElement('path', { d: 'm21 21-4.3-4.3' })
      )
    );

    const MessageCircleIcon = ({ className = '' }) => (
      React.createElement('svg', {
        xmlns: 'http://www.w3.org/2000/svg',
        width: 24,
        height: 24,
        viewBox: '0 0 24 24',
        fill: 'none',
        stroke: 'currentColor',
        strokeWidth: 2,
        strokeLinecap: 'round',
        strokeLinejoin: 'round',
        className
      },
        React.createElement('path', { d: 'M7.9 20A9 9 0 1 0 4 16.1L2 22Z' })
      )
    );

    const SettingsIcon = ({ className = '' }) => (
      React.createElement('svg', {
        xmlns: 'http://www.w3.org/2000/svg',
        width: 24,
        height: 24,
        viewBox: '0 0 24 24',
        fill: 'none',
        stroke: 'currentColor',
        strokeWidth: 2,
        strokeLinecap: 'round',
        strokeLinejoin: 'round',
        className
      },
        React.createElement('path', { d: 'M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z' }),
        React.createElement('circle', { cx: 12, cy: 12, r: 3 })
      )
    );

    const AlertCircleIcon = ({ className = '' }) => (
      React.createElement('svg', {
        xmlns: 'http://www.w3.org/2000/svg',
        width: 24,
        height: 24,
        viewBox: '0 0 24 24',
        fill: 'none',
        stroke: 'currentColor',
        strokeWidth: 2,
        strokeLinecap: 'round',
        strokeLinejoin: 'round',
        className
      },
        React.createElement('circle', { cx: 12, cy: 12, r: 10 }),
        React.createElement('line', { x1: 12, y1: 8, x2: 12, y2: 12 }),
        React.createElement('line', { x1: 12, y1: 16, x2: 12.01, y2: 16 })
      )
    );

    const ArrowLeftIcon = ({ className = '' }) => (
      React.createElement('svg', {
        xmlns: 'http://www.w3.org/2000/svg',
        width: 24,
        height: 24,
        viewBox: '0 0 24 24',
        fill: 'none',
        stroke: 'currentColor',
        strokeWidth: 2,
        strokeLinecap: 'round',
        strokeLinejoin: 'round',
        className
      },
        React.createElement('line', { x1: 19, y1: 12, x2: 5, y2: 12 }),
        React.createElement('polyline', { points: '12 19 5 12 12 5' })
      )
    );

    const SendIcon = ({ className = '' }) => (
      React.createElement('svg', {
        xmlns: 'http://www.w3.org/2000/svg',
        width: 24,
        height: 24,
        viewBox: '0 0 24 24',
        fill: 'none',
        stroke: 'currentColor',
        strokeWidth: 2,
        strokeLinecap: 'round',
        strokeLinejoin: 'round',
        className
      },
        React.createElement('line', { x1: 22, y1: 2, x2: 11, y2: 13 }),
        React.createElement('polygon', { points: '22 2 15 22 11 13 2 9 22 2' })
      )
    );

    const CheckIcon = ({ className = '' }) => (
      React.createElement('svg', {
        xmlns: 'http://www.w3.org/2000/svg',
        width: 24,
        height: 24,
        viewBox: '0 0 24 24',
        fill: 'none',
        stroke: 'currentColor',
        strokeWidth: 2,
        strokeLinecap: 'round',
        strokeLinejoin: 'round',
        className
      },
        React.createElement('polyline', { points: '20 6 9 17 4 12' })
      )
    );

    const EyeIcon = ({ className = '' }) => (
      React.createElement('svg', {
        xmlns: 'http://www.w3.org/2000/svg',
        width: 24,
        height: 24,
        viewBox: '0 0 24 24',
        fill: 'none',
        stroke: 'currentColor',
        strokeWidth: 2,
        strokeLinecap: 'round',
        strokeLinejoin: 'round',
        className
      },
        React.createElement('path', { d: 'M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z' }),
        React.createElement('circle', { cx: 12, cy: 12, r: 3 })
      )
    );

    const EyeOffIcon = ({ className = '' }) => (
      React.createElement('svg', {
        xmlns: 'http://www.w3.org/2000/svg',
        width: 24,
        height: 24,
        viewBox: '0 0 24 24',
        fill: 'none',
        stroke: 'currentColor',
        strokeWidth: 2,
        strokeLinecap: 'round',
        strokeLinejoin: 'round',
        className
      },
        React.createElement('path', { d: 'M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24' }),
        React.createElement('line', { x1: 1, y1: 1, x2: 23, y2: 23 })
      )
    );

    const ShieldIcon = ({ className = '' }) => (
      React.createElement('svg', {
        xmlns: 'http://www.w3.org/2000/svg',
        width: 24,
        height: 24,
        viewBox: '0 0 24 24',
        fill: 'none',
        stroke: 'currentColor',
        strokeWidth: 2,
        strokeLinecap: 'round',
        strokeLinejoin: 'round',
        className
      },
        React.createElement('path', { d: 'M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z' })
      )
    );

    const PinIcon = ({ className = '' }) => (
      React.createElement('svg', {
        xmlns: 'http://www.w3.org/2000/svg',
        width: 24,
        height: 24,
        viewBox: '0 0 24 24',
        fill: 'none',
        stroke: 'currentColor',
        strokeWidth: 2,
        strokeLinecap: 'round',
        strokeLinejoin: 'round',
        className
      },
        React.createElement('line', { x1: 12, y1: 17, x2: 12, y2: 22 }),
        React.createElement('path', { d: 'M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z' })
      )
    );

    const TrashIcon = ({ className = '' }) => (
      React.createElement('svg', {
        xmlns: 'http://www.w3.org/2000/svg',
        width: 24,
        height: 24,
        viewBox: '0 0 24 24',
        fill: 'none',
        stroke: 'currentColor',
        strokeWidth: 2,
        strokeLinecap: 'round',
        strokeLinejoin: 'round',
        className
      },
        React.createElement('polyline', { points: '3 6 5 6 21 6' }),
        React.createElement('path', { d: 'M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2' })
      )
    );

    // ÐšÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚ Ð´Ð»Ñ Ð³ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ð¸ Ð°Ð²Ð°Ñ‚Ð°Ñ€Ð¾Ðº
    const UserAvatar = ({ username, size = 40, className = '' }) => {
      const firstLetter = username ? username.charAt(0).toUpperCase() : '?';
      const colors = [
        '#EF4444', '#F59E0B', '#10B981', '#3B82F6', 
        '#8B5CF6', '#EC4899', '#06B6D4', '#84CC16'
      ];
      const colorIndex = username ? username.charCodeAt(0) % colors.length : 0;
      const backgroundColor = colors[colorIndex];
      
      return React.createElement('div', {
        className: `chat-avatar ${className}`,
        style: {
          width: `${size}px`,
          height: `${size}px`,
          backgroundColor,
          fontSize: `${size * 0.5}px`
        }
      }, firstLetter);
    };

    function ModernMessenger() {
      const [currentScreen, setCurrentScreen] = useState('login');
      const [activeTab, setActiveTab] = useState('chats');
      const [isRegistering, setIsRegistering] = useState(false);
      const [screenTransition, setScreenTransition] = useState(false);
      
      const [loginData, setLoginData] = useState({ username: '', password: '' });
      const [registerData, setRegisterData] = useState({ email: '', username: '', password: '' });
      const [error, setError] = useState('');
      
      const [registeredUsers, setRegisteredUsers] = useState(() => {
        const stored = localStorage.getItem('registeredUsers');
        return stored ? JSON.parse(stored) : [];
      });
      
      const [user, setUser] = useState(() => {
        const stored = localStorage.getItem('currentUser');
        return stored ? JSON.parse(stored) : null;
      });
      
      const [searchActive, setSearchActive] = useState(false);
      const [activeChat, setActiveChat] = useState(null);
      const [messageInput, setMessageInput] = useState('');
      const [contextMenu, setContextMenu] = useState({ visible: false, x: 0, y: 0, chatId: null });
      const [reactionPicker, setReactionPicker] = useState({ visible: false, messageId: null, x: 0, y: 0 });
      const [privacySettings, setPrivacySettings] = useState(() => {
        const stored = localStorage.getItem('privacySettings');
        return stored ? JSON.parse(stored) : {
          encryption: false,
          hideConversation: false,
          anonymousMode: false
        };
      });

      // Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° Ñ‡Ð°Ñ‚Ð¾Ð² Ð¸Ð· localStorage
      const [chats, setChats] = useState(() => {
        const stored = localStorage.getItem('chats');
        if (stored) {
          return JSON.parse(stored);
        } else {
          // Ð˜Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð½Ð°Ñ‡Ð°Ð»ÑŒÐ½Ñ‹Ñ… Ñ‡Ð°Ñ‚Ð¾Ð²
          const initialChats = [
            { 
              id: 1, 
              username: 'alex_dev', 
              lastMessage: 'Hey, how are you?', 
              time: '10:30', 
              unread: 2, 
              pinned: false,
              messages: [
                { id: 1, text: 'Hello!', sender: 'alex_dev', timestamp: new Date().getTime() - 3600000, reactions: [] },
                { id: 2, text: 'How are you doing?', sender: 'current', timestamp: new Date().getTime() - 3500000, reactions: [] },
                { id: 3, text: 'I\'m good, thanks! Working on a new project.', sender: 'alex_dev', timestamp: new Date().getTime() - 3400000, reactions: [] },
              ]
            },
            { 
              id: 2, 
              username: 'sarah_design', 
              lastMessage: 'Check out this new design', 
              time: '09:15', 
              unread: 0, 
              pinned: false,
              messages: [
                { id: 1, text: 'Hi there!', sender: 'sarah_design', timestamp: new Date().getTime() - 7200000, reactions: [] },
                { id: 2, text: 'I finished the design mockups', sender: 'sarah_design', timestamp: new Date().getTime() - 7000000, reactions: [] },
              ]
            },
            { 
              id: 3, 
              username: 'mike_tech', 
              lastMessage: 'Meeting at 3pm', 
              time: 'Yesterday', 
              unread: 1, 
              pinned: true,
              messages: [
                { id: 1, text: 'Don\'t forget about the meeting today', sender: 'mike_tech', timestamp: new Date().getTime() - 86400000, reactions: [] },
                { id: 2, text: 'I\'ll be there!', sender: 'current', timestamp: new Date().getTime() - 86000000, reactions: [] },
              ]
            },
            { 
              id: 4, 
              username: 'xenowner', 
              lastMessage: 'Welcome to the app!', 
              time: 'Yesterday', 
              unread: 0, 
              pinned: false,
              messages: [
                { id: 1, text: 'Thanks for trying out our messenger!', sender: 'xenowner', timestamp: new Date().getTime() - 172800000, reactions: [] },
                { id: 2, text: 'Let me know if you have any feedback', sender: 'xenowner', timestamp: new Date().getTime() - 172000000, reactions: [] },
              ]
            },
          ];
          localStorage.setItem('chats', JSON.stringify(initialChats));
          return initialChats;
        }
      });

      // Ð¡Ð¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ Ð² localStorage Ð¿Ñ€Ð¸ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¸
      useEffect(() => {
        localStorage.setItem('registeredUsers', JSON.stringify(registeredUsers));
      }, [registeredUsers]);

      useEffect(() => {
        localStorage.setItem('currentUser', JSON.stringify(user));
      }, [user]);

      useEffect(() => {
        localStorage.setItem('chats', JSON.stringify(chats));
      }, [chats]);

      useEffect(() => {
        localStorage.setItem('privacySettings', JSON.stringify(privacySettings));
      }, [privacySettings]);

      // ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ Ð²Ñ…Ð¾Ð´, ÐµÑÐ»Ð¸ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½
      useEffect(() => {
        if (user && currentScreen === 'login') {
          setScreenTransition(true);
          setTimeout(() => {
            setCurrentScreen('main');
            setScreenTransition(false);
          }, 300);
        }
      }, [user, currentScreen]);

      const validateUsername = (username) => {
        const cleanUsername = username.replace('@', '');
        const regex = /^[a-zA-Z0-9]{4,24}$/;
        return regex.test(cleanUsername);
      };

      const validateEmail = (email) => {
        const regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return regex.test(email) && !email.includes('ajakka');
      };

      const handleLogin = () => {
        setError('');
        const cleanUsername = loginData.username.replace('@', '');
        
        if (!loginData.username || !loginData.password) {
          setError('Please fill in all fields');
          return;
        }

        if (!validateUsername(cleanUsername)) {
          setError('Invalid username format');
          return;
        }

        const existingUser = registeredUsers.find(
          u => u.username.toLowerCase() === cleanUsername.toLowerCase() && u.password === loginData.password
        );

        if (!existingUser) {
          setError('Account does not exist or wrong password');
          return;
        }

        setUser({
          username: existingUser.username,
          email: existingUser.email
        });
        
        setScreenTransition(true);
        setTimeout(() => {
          setCurrentScreen('main');
          setScreenTransition(false);
        }, 300);
      };

      const handleRegister = () => {
        setError('');
        const cleanUsername = registerData.username.replace('@', '');
        
        if (!registerData.email || !registerData.username || !registerData.password) {
          setError('Please fill in all fields');
          return;
        }

        if (!validateEmail(registerData.email)) {
          setError('Invalid email format or email not allowed');
          return;
        }

        if (!validateUsername(cleanUsername)) {
          setError('Username must be 4-24 characters (letters and numbers only)');
          return;
        }

        const userExists = registeredUsers.find(
          u => u.username.toLowerCase() === cleanUsername.toLowerCase()
        );

        if (userExists) {
          setError('Username already taken');
          return;
        }

        const newUser = {
          email: registerData.email,
          username: cleanUsername,
          password: registerData.password
        };

        setRegisteredUsers([...registeredUsers, newUser]);
        setUser({
          username: cleanUsername,
          email: registerData.email
        });
        
        setScreenTransition(true);
        setTimeout(() => {
          setCurrentScreen('main');
          setScreenTransition(false);
        }, 300);
      };

      const switchAuthMode = () => {
        setError('');
        setScreenTransition(true);
        setTimeout(() => {
          setIsRegistering(!isRegistering);
          setScreenTransition(false);
        }, 200);
      };

      const handleChatClick = (chat) => {
        setActiveChat(chat);
        setCurrentScreen('chat');
        
        // Ð£Ð±Ð¸Ñ€Ð°ÐµÐ¼ Ð½ÐµÐ¿Ñ€Ð¾Ñ‡Ð¸Ñ‚Ð°Ð½Ð½Ñ‹Ðµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ
        const updatedChats = chats.map(c => {
          if (c.id === chat.id) {
            return { ...c, unread: 0 };
          }
          return c;
        });
        setChats(updatedChats);
      };

      const handleSendMessage = () => {
        if (!messageInput.trim() || !activeChat) return;
        
        const newMessage = {
          id: Date.now(),
          text: messageInput,
          sender: 'current',
          timestamp: new Date().getTime(),
          reactions: []
        };
        
        const updatedChats = chats.map(chat => {
          if (chat.id === activeChat.id) {
            return {
              ...chat,
              lastMessage: messageInput,
              time: 'Just now',
              messages: [...chat.messages, newMessage]
            };
          }
          return chat;
        });
        
        setChats(updatedChats);
        setMessageInput('');
      };

      const handleKeyPress = (e) => {
        if (e.key === 'Enter') {
          handleSendMessage();
        }
      };

      const handleContextMenu = (e, chatId) => {
        e.preventDefault();
        setContextMenu({
          visible: true,
          x: e.clientX,
          y: e.clientY,
          chatId
        });
      };

      const handleContextMenuAction = (action, chatId) => {
        const updatedChats = chats.map(chat => {
          if (chat.id === chatId) {
            if (action === 'pin') {
              return { ...chat, pinned: !chat.pinned };
            } else if (action === 'delete') {
              return null;
            }
          }
          return chat;
        }).filter(chat => chat !== null);
        
        setChats(updatedChats);
        setContextMenu({ visible: false, x: 0, y: 0, chatId: null });
      };

      const handleMessageDoubleClick = (e, messageId) => {
        setReactionPicker({
          visible: true,
          messageId,
          x: e.clientX,
          y: e.clientY
        });
      };

      const handleReactionSelect = (reaction) => {
        if (!reactionPicker.messageId || !activeChat) return;
        
        const updatedChats = chats.map(chat => {
          if (chat.id === activeChat.id) {
            const updatedMessages = chat.messages.map(message => {
              if (message.id === reactionPicker.messageId) {
                const existingReactionIndex = message.reactions.findIndex(r => r.type === reaction);
                
                if (existingReactionIndex >= 0) {
                  // Ð£Ð´Ð°Ð»ÑÐµÐ¼ Ñ€ÐµÐ°ÐºÑ†Ð¸ÑŽ, ÐµÑÐ»Ð¸ Ð¾Ð½Ð° ÑƒÐ¶Ðµ ÐµÑÑ‚ÑŒ
                  const updatedReactions = [...message.reactions];
                  updatedReactions.splice(existingReactionIndex, 1);
                  return { ...message, reactions: updatedReactions };
                } else {
                  // Ð”Ð¾Ð±Ð°Ð²Ð»ÑÐµÐ¼ Ð½Ð¾Ð²ÑƒÑŽ Ñ€ÐµÐ°ÐºÑ†Ð¸ÑŽ
                  return { 
                    ...message, 
                    reactions: [...message.reactions, { type: reaction, user: user.username }] 
                  };
                }
              }
              return message;
            });
            
            return { ...chat, messages: updatedMessages };
          }
          return chat;
        });
        
        setChats(updatedChats);
        setReactionPicker({ visible: false, messageId: null, x: 0, y: 0 });
      };

      const formatTime = (timestamp) => {
        const date = new Date(timestamp);
        return date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
      };

      const reactions = ['ðŸ‘', 'ðŸ‘Ž', 'â¤ï¸', 'ðŸ˜‚'];

      // Ð¡Ð¾Ñ€Ñ‚Ð¸Ñ€ÑƒÐµÐ¼ Ñ‡Ð°Ñ‚Ñ‹: ÑÐ½Ð°Ñ‡Ð°Ð»Ð° Ð·Ð°ÐºÑ€ÐµÐ¿Ð»ÐµÐ½Ð½Ñ‹Ðµ, Ð·Ð°Ñ‚ÐµÐ¼ Ð¾Ð±Ñ‹Ñ‡Ð½Ñ‹Ðµ
      const sortedChats = [...chats].sort((a, b) => {
        if (a.pinned && !b.pinned) return -1;
        if (!a.pinned && b.pinned) return 1;
        return 0;
      });

      if (currentScreen === 'login') {
        return React.createElement('div', { className: 'login-container' },
          React.createElement('div', { 
            className: `login-box ${screenTransition ? 'opacity-0 scale-95' : 'opacity-100 scale-100'}` 
          },
            React.createElement('div', { className: 'login-header animate-fade-in' },
              React.createElement('div', { className: 'logo-circle' },
                React.createElement(MessageCircleIcon, { className: 'logo-icon' })
              ),
              React.createElement('h1', { className: 'login-title' }, 'Messenger'),
              React.createElement('p', { className: 'login-subtitle' }, 'Connect with everyone')
            ),

            error && React.createElement('div', { className: 'error-box animate-shake' },
              React.createElement(AlertCircleIcon, { className: 'error-icon' }),
              React.createElement('p', { className: 'error-text' }, error)
            ),

            !isRegistering 
              ? React.createElement('div', null,
                  React.createElement('input', {
                    type: 'text',
                    placeholder: '@username',
                    value: loginData.username,
                    onChange: (e) => {
                      setError('');
                      setLoginData({...loginData, username: e.target.value});
                    },
                    onKeyPress: (e) => e.key === 'Enter' && handleLogin(),
                    className: 'input-field'
                  }),
                  React.createElement('input', {
                    type: 'password',
                    placeholder: 'Password',
                    value: loginData.password,
                    onChange: (e) => {
                      setError('');
                      setLoginData({...loginData, password: e.target.value});
                    },
                    onKeyPress: (e) => e.key === 'Enter' && handleLogin(),
                    className: 'input-field'
                  }),
                  React.createElement('button', {
                    onClick: handleLogin,
                    className: 'btn-primary'
                  }, 'Log In'),
                  React.createElement('div', { className: 'auth-switch' },
                    React.createElement('span', { className: 'auth-switch-text' }, "Don't have an account? "),
                    React.createElement('button', {
                      onClick: switchAuthMode,
                      className: 'auth-switch-btn'
                    }, 'Register')
                  )
                )
              : React.createElement('div', null,
                  React.createElement('input', {
                    type: 'email',
                    placeholder: 'Email',
                    value: registerData.email,
                    onChange: (e) => {
                      setError('');
                      setRegisterData({...registerData, email: e.target.value});
                    },
                    onKeyPress: (e) => e.key === 'Enter' && handleRegister(),
                    className: 'input-field'
                  }),
                  React.createElement('input', {
                    type: 'text',
                    placeholder: '@username (4-24 characters)',
                    value: registerData.username,
                    onChange: (e) => {
                      setError('');
                      const value = e.target.value.replace(/[^a-zA-Z0-9@]/g, '');
                      if (value.length <= 25) {
                        setRegisterData({...registerData, username: value});
                      }
                    },
                    onKeyPress: (e) => e.key === 'Enter' && handleRegister(),
                    className: 'input-field'
                  }),
                  React.createElement('input', {
                    type: 'password',
                    placeholder: 'Password',
                    value: registerData.password,
                    onChange: (e) => {
                      setError('');
                      setRegisterData({...registerData, password: e.target.value});
                    },
                    onKeyPress: (e) => e.key === 'Enter' && handleRegister(),
                    className: 'input-field'
                  }),
                  React.createElement('button', {
                    onClick: handleRegister,
                    className: 'btn-primary'
                  }, 'Register'),
                  React.createElement('div', { className: 'auth-switch' },
                    React.createElement('span', { className: 'auth-switch-text' }, 'Already have an account? '),
                    React.createElement('button', {
                      onClick: switchAuthMode,
                      className: 'auth-switch-btn'
                    }, 'Log In')
                  )
                )
          )
        );
      }

      if (currentScreen === 'chat' && activeChat) {
        return React.createElement('div', { className: 'chat-container' },
          React.createElement('div', { className: 'chat-header-detailed' },
            React.createElement('div', { className: 'chat-header-left' },
              React.createElement('button', {
                onClick: () => setCurrentScreen('main'),
                className: 'back-btn'
              }, React.createElement(ArrowLeftIcon)),
              React.createElement(UserAvatar, { username: activeChat.username, size: 40 }),
              React.createElement('div', null,
                React.createElement('div', { className: 'chat-username' },
                  `@${activeChat.username}`,
                  activeChat.username === 'xenowner' && 
                    React.createElement('div', { className: 'verified-badge' },
                      React.createElement(CheckIcon, { className: 'nav-icon active' })
                    )
                ),
                React.createElement('div', { style: { fontSize: '0.75rem', color: '#9ca3af' } }, 'Online')
              )
            ),
            React.createElement('div', { className: 'chat-header-right' },
              React.createElement('button', {
                className: 'icon-btn',
                onClick: () => setPrivacySettings({...privacySettings, anonymousMode: !privacySettings.anonymousMode})
              }, 
                privacySettings.anonymousMode 
                  ? React.createElement(EyeOffIcon, { className: 'nav-icon active' })
                  : React.createElement(EyeIcon, { className: 'nav-icon active' })
              ),
              React.createElement('button', {
                className: 'icon-btn',
                onClick: () => setPrivacySettings({...privacySettings, encryption: !privacySettings.encryption})
              }, 
                React.createElement(ShieldIcon, { 
                  className: `nav-icon ${privacySettings.encryption ? 'active' : 'inactive'}` 
                })
              )
            )
          ),
          
          React.createElement('div', { className: 'messages-container' },
            activeChat.messages.map(message => 
              React.createElement('div', {
                key: message.id,
                className: `message ${message.sender === 'current' ? 'message-sent' : 'message-received'}`,
                onDoubleClick: (e) => handleMessageDoubleClick(e, message.id)
              },
                React.createElement('div', { className: 'message-text' }, 
                  privacySettings.encryption && message.sender !== 'current' 
                    ? 'ðŸ”’ Encrypted message' 
                    : message.text
                ),
                React.createElement('div', { className: 'message-time' }, formatTime(message.timestamp)),
                message.reactions.length > 0 && 
                  React.createElement('div', { className: 'message-reactions' },
                    message.reactions.map((reaction, index) => 
                      React.createElement('div', { key: index, className: 'reaction' },
                        reaction.type,
                        reaction.user === user.username && 'âœ“'
                      )
                    )
                  ),
                reactionPicker.visible && reactionPicker.messageId === message.id &&
                  React.createElement('div', { 
                    className: 'reaction-picker',
                    style: { left: reactionPicker.x, bottom: window.innerHeight - reactionPicker.y }
                  },
                    reactions.map(reaction => 
                      React.createElement('button', {
                        key: reaction,
                        className: 'reaction-option',
                        onClick: () => handleReactionSelect(reaction)
                      }, reaction)
                    )
                  )
              )
            )
          ),
          
          React.createElement('div', { className: 'input-container' },
            React.createElement('input', {
              type: 'text',
              placeholder: privacySettings.encryption ? 'Type an encrypted message...' : 'Type a message...',
              value: messageInput,
              onChange: (e) => setMessageInput(e.target.value),
              onKeyPress: handleKeyPress,
              className: 'message-input'
            }),
            React.createElement('button', {
              onClick: handleSendMessage,
              className: 'send-btn',
              disabled: !messageInput.trim()
            }, React.createElement(SendIcon))
          )
        );
      }

      return React.createElement('div', { className: 'main-container' },
        activeTab === 'chats' && React.createElement('div', { className: 'animate-fade-in' },
          React.createElement('div', { className: 'header' },
            React.createElement('h1', { className: 'header-title' }, 'Chats'),
            React.createElement('button', {
              onClick: () => setSearchActive(!searchActive),
              className: 'icon-btn'
            },
              React.createElement(SearchIcon, { className: 'nav-icon active' })
            )
          ),

          searchActive && React.createElement('div', { className: 'search-bar animate-slide-down' },
            React.createElement('input', {
              type: 'text',
              placeholder: 'Search chats...',
              className: 'search-input'
            })
          ),

          React.createElement('div', { className: 'chats-list' },
            sortedChats.map((chat, index) => 
              React.createElement('div', {
                key: chat.id,
                className: 'chat-item',
                onClick: () => handleChatClick(chat),
                onContextMenu: (e) => handleContextMenu(e, chat.id),
                style: { 
                  animation: `slide-in-left 0.4s ease-out ${index * 0.1}s both` 
                }
              },
                React.createElement('div', { style: { position: 'relative' } },
                  React.createElement(UserAvatar, { username: chat.username, size: 56 }),
                  chat.username === 'xenowner' && 
                    React.createElement('div', { className: 'verified-badge' },
                      React.createElement(CheckIcon, { className: 'nav-icon active' })
                    )
                ),
                React.createElement('div', { className: 'chat-info' },
                  React.createElement('div', { className: 'chat-header' },
                    React.createElement('span', { className: 'chat-username' },
                      `@${chat.username}`,
                      chat.pinned && React.createElement(PinIcon, { style: { marginLeft: '0.25rem', width: '0.875rem', height: '0.875rem' } })
                    ),
                    React.createElement('span', { className: 'chat-time' }, chat.time)
                  ),
                  React.createElement('p', { className: 'chat-last-message' }, chat.lastMessage)
                ),
                chat.unread > 0 && React.createElement('div', { 
                  className: 'unread-badge animate-bounce-subtle'
                }, chat.unread)
              )
            )
          )
        ),

        activeTab === 'settings' && user && React.createElement('div', { className: 'settings-container animate-fade-in' },
          React.createElement('div', { className: 'profile-section' },
            React.createElement(UserAvatar, { username: user.username, size: 96, className: 'profile-avatar' }),
            React.createElement('h2', { className: 'profile-name' },
              `@${user.username}`,
              user.username === 'xenowner' && 
                React.createElement('div', { className: 'verified-badge' },
                  React.createElement(CheckIcon, { className: 'nav-icon active' })
                )
            )
          ),

          React.createElement('div', { className: 'settings-section' },
            React.createElement('h3', { className: 'section-title' }, 'Account'),
            React.createElement('div', { className: 'settings-item' },
              React.createElement('div', null,
                React.createElement('p', { className: 'settings-label' }, 'Email'),
                React.createElement('p', { className: 'settings-value' }, user.email)
              )
            ),
            React.createElement('div', { className: 'settings-item' },
              React.createElement('div', null,
                React.createElement('p', { className: 'settings-label' }, 'Username'),
                React.createElement('p', { className: 'settings-value' }, `@${user.username}`)
              )
            )
          ),

          React.createElement('div', { className: 'settings-section' },
            React.createElement('h3', { className: 'section-title' }, 'Privacy & Security'),
            React.createElement('div', { className: 'settings-item' },
              React.createElement('div', null,
                React.createElement('p', { className: 'settings-value' }, 'End-to-end Encryption'),
                React.createElement('p', { className: 'settings-label' }, 'Secure your messages')
              ),
              React.createElement('label', { className: 'toggle-switch' },
                React.createElement('input', {
                  type: 'checkbox',
                  checked: privacySettings.encryption,
                  onChange: () => setPrivacySettings({...privacySettings, encryption: !privacySettings.encryption})
                }),
                React.createElement('span', { className: 'toggle-slider' })
              )
            ),
            React.createElement('div', { className: 'settings-item' },
              React.createElement('div', null,
                React.createElement('p', { className: 'settings-value' }, 'Anonymous Mode'),
                React.createElement('p', { className: 'settings-label' }, 'Hide your identity')
              ),
              React.createElement('label', { className: 'toggle-switch' },
                React.createElement('input', {
                  type: 'checkbox',
                  checked: privacySettings.anonymousMode,
                  onChange: () => setPrivacySettings({...privacySettings, anonymousMode: !privacySettings.anonymousMode})
                }),
                React.createElement('span', { className: 'toggle-slider' })
              )
            ),
            React.createElement('div', { className: 'settings-item' },
              React.createElement('div', null,
                React.createElement('p', { className: 'settings-value' }, 'Temporary Hide'),
                React.createElement('p', { className: 'settings-label' }, 'Hide conversation for a while')
              ),
              React.createElement('label', { className: 'toggle-switch' },
                React.createElement('input', {
                  type: 'checkbox',
                  checked: privacySettings.hideConversation,
                  onChange: () => setPrivacySettings({...privacySettings, hideConversation: !privacySettings.hideConversation})
                }),
                React.createElement('span', { className: 'toggle-slider' })
              )
            )
          ),

          React.createElement('div', { className: 'settings-section' },
            React.createElement('h3', { className: 'section-title' }, 'Support'),
            React.createElement('div', { className: 'settings-item' },
              React.createElement('p', { className: 'settings-value' }, 'Contact Support')
            )
          ),

          React.createElement('div', { className: 'settings-section' },
            React.createElement('div', { className: 'settings-item' },
              React.createElement('button', {
                onClick: () => {
                  setUser(null);
                  setCurrentScreen('login');
                },
                style: {
                  background: 'none',
                  border: 'none',
                  color: '#ef4444',
                  fontWeight: '600',
                  width: '100%',
                  textAlign: 'left',
                  cursor: 'pointer'
                }
              }, 'Log Out')
            )
          )
        ),

        contextMenu.visible && 
          React.createElement('div', {
            className: 'context-menu',
            style: { left: contextMenu.x, top: contextMenu.y }
          },
            React.createElement('div', {
              className: 'context-menu-item',
              onClick: () => handleContextMenuAction('pin', contextMenu.chatId)
            },
              React.createElement(PinIcon, { className: 'nav-icon active' }),
              chats.find(c => c.id === contextMenu.chatId)?.pinned ? 'Unpin' : 'Pin'
            ),
            React.createElement('div', {
              className: 'context-menu-item',
              onClick: () => handleContextMenuAction('delete', contextMenu.chatId)
            },
              React.createElement(TrashIcon, { className: 'nav-icon active' }),
              'Delete'
            )
          ),

        React.createElement('div', { className: 'bottom-nav' },
          React.createElement('div', { className: 'nav-container' },
            React.createElement('button', {
              onClick: () => setActiveTab('chats'),
              className: `nav-btn ${activeTab === 'chats' ? 'active' : ''}`
            },
              React.createElement(MessageCircleIcon, { 
                className: `nav-icon ${activeTab === 'chats' ? 'active' : 'inactive'}` 
              }),
              React.createElement('span', { 
                className: `nav-label ${activeTab === 'chats' ? 'active' : 'inactive'}` 
              }, 'Chats')
            ),
            React.createElement('button', {
              onClick: () => setActiveTab('settings'),
              className: `nav-btn ${activeTab === 'settings' ? 'active' : ''}`
            },
              React.createElement(SettingsIcon, { 
                className: `nav-icon ${activeTab === 'settings' ? 'active' : 'inactive'}` 
              }),
              React.createElement('span', { 
                className: `nav-label ${activeTab === 'settings' ? 'active' : 'inactive'}` 
              }, 'Settings')
            )
          )
        )
      );
    }

    ReactDOM.render(React.createElement(ModernMessenger), document.getElementById('root'));
  </script>
</body>
</html>      border-radius: 9999px;
      color: #fff;
      outline: none;
      transition: all 0.3s;
      margin-bottom: 1rem;
      border: none;
    }
    
    .input-field:focus {
      background-color: rgba(255, 255, 255, 0.2);
      transform: scale(1.02);
    }
    
    .input-field:hover {
      transform: scale(1.02);
    }
    
    .input-field::placeholder {
      color: #9ca3af;
    }
    
    .btn-primary {
      width: 100%;
      padding: 1rem;
      background-color: #fff;
      color: #000;
      font-weight: 600;
      border-radius: 9999px;
      border: none;
      cursor: pointer;
      transition: all 0.3s;
      margin-bottom: 1rem;
    }
    
    .btn-primary:hover {
      background-color: rgba(255, 255, 255, 0.9);
      transform: scale(1.05);
    }
    
    .btn-primary:active {
      transform: scale(0.95);
    }
    
    .auth-switch {
      text-align: center;
      padding-top: 1rem;
    }
    
    .auth-switch-text {
      color: #9ca3af;
    }
    
    .auth-switch-btn {
      color: #fff;
      font-weight: 600;
      background: none;
      border: none;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .auth-switch-btn:hover {
      text-decoration: underline;
    }
    
    /* Main App */
    .main-container {
      min-height: 100vh;
      background-color: #000;
      color: #fff;
      display: flex;
      flex-direction: column;
    }
    
    .header {
      padding: 1rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
    }
    
    .header-title {
      font-size: 1.5rem;
      font-weight: bold;
    }
    
    .icon-btn {
      padding: 0.5rem;
      border-radius: 50%;
      border: none;
      background: none;
      cursor: pointer;
      transition: all 0.3s;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .icon-btn:hover {
      background-color: rgba(255, 255, 255, 0.1);
      transform: rotate(90deg);
    }
    
    .icon-btn:active {
      transform: scale(0.95);
    }
    
    .search-bar {
      padding: 1rem;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .search-input {
      width: 100%;
      padding: 0.75rem 1rem;
      background-color: rgba(255, 255, 255, 0.1);
      border-radius: 9999px;
      color: #fff;
      outline: none;
      border: none;
      transition: all 0.3s;
    }
    
    .search-input:focus {
      background-color: rgba(255, 255, 255, 0.2);
    }
    
    .chats-list {
      flex: 1;
      overflow-y: auto;
      padding-bottom: 5rem;
    }
    
    .chat-item {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      padding: 1rem;
      cursor: pointer;
      transition: all 0.3s;
    }
    
    .chat-item:hover {
      background-color: rgba(255, 255, 255, 0.05);
      transform: translateX(0.25rem);
    }
    
    .chat-item:active {
      background-color: rgba(255, 255, 255, 0.1);
    }
    
    .chat-avatar {
      width: 3.5rem;
      height: 3.5rem;
      border-radius: 50%;
      background-color: rgba(255, 255, 255, 0.1);
      transition: all 0.3s;
    }
    
    .chat-avatar:hover {
      transform: scale(1.1);
    }
    
    .chat-info {
      flex: 1;
      min-width: 0;
    }
    
    .chat-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 0.25rem;
    }
    
    .chat-username {
      font-weight: 600;
    }
    
    .chat-time {
      font-size: 0.75rem;
      color: #9ca3af;
    }
    
    .chat-last-message {
      font-size: 0.875rem;
      color: #9ca3af;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    
    .unread-badge {
      width: 1.5rem;
      height: 1.5rem;
      background-color: #fff;
      color: #000;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.75rem;
      font-weight: bold;
    }
    
    /* Settings */
    .settings-container {
      flex: 1;
      overflow-y: auto;
      padding-bottom: 5rem;
    }
    
    .profile-section {
      padding: 1.5rem;
      text-align: center;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .profile-avatar {
      width: 6rem;
      height: 6rem;
      border-radius: 50%;
      margin: 0 auto 1rem;
      background-color: rgba(255, 255, 255, 0.1);
      transition: all 0.5s;
    }
    
    .profile-avatar:hover {
      transform: scale(1.1) rotate(6deg);
    }
    
    .profile-name {
      font-size: 1.25rem;
      font-weight: bold;
    }
    
    .settings-section {
      padding: 1rem;
    }
    
    .section-title {
      font-size: 0.875rem;
      font-weight: bold;
      color: #9ca3af;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      margin-bottom: 0.75rem;
      padding-left: 0.5rem;
    }
    
    .settings-item {
      padding: 1rem;
      background-color: rgba(255, 255, 255, 0.05);
      border-radius: 1.5rem;
      margin-bottom: 0.25rem;
      cursor: pointer;
      transition: all 0.3s;
    }
    
    .settings-item:hover {
      background-color: rgba(255, 255, 255, 0.1);
      transform: translateX(0.25rem);
    }
    
    .settings-item:active {
      transform: scale(0.98);
    }
    
    .settings-label {
      font-size: 0.875rem;
      color: #9ca3af;
    }
    
    .settings-value {
      font-weight: 500;
    }
    
    /* Bottom Navigation */
    .bottom-nav {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background-color: #000;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
    }
    
    .nav-container {
      display: flex;
      align-items: center;
      justify-content: space-around;
      padding: 0.75rem 1rem;
      max-width: 28rem;
      margin: 0 auto;
    }
    
    .nav-btn {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.25rem;
      padding: 0.5rem 1.5rem;
      border-radius: 9999px;
      border: none;
      background: none;
      cursor: pointer;
      transition: all 0.3s;
    }
    
    .nav-btn:active {
      transform: scale(0.95);
    }
    
    .nav-btn.active {
      background-color: rgba(255, 255, 255, 0.1);
      transform: scale(1.05);
    }
    
    .nav-btn:hover:not(.active) {
      transform: scale(1.05);
    }
    
    .nav-icon {
      width: 1.5rem;
      height: 1.5rem;
      transition: all 0.3s;
    }
    
    .nav-icon.active {
      color: #fff;
    }
    
    .nav-icon.inactive {
      color: #9ca3af;
    }
    
    .nav-label {
      font-size: 0.75rem;
      font-weight: 500;
      transition: all 0.3s;
    }
    
    .nav-label.active {
      color: #fff;
    }
    
    .nav-label.inactive {
      color: #9ca3af;
    }
    
    /* Animations */
    @keyframes fade-in {
      from { opacity: 0; transform: translateY(-20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-10px); }
      75% { transform: translateX(10px); }
    }
    
    @keyframes slide-down {
      from { opacity: 0; transform: translateY(-20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    @keyframes slide-in-left {
      from { opacity: 0; transform: translateX(-30px); }
      to { opacity: 1; transform: translateX(0); }
    }
    
    @keyframes bounce-subtle {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.1); }
    }
    
    .animate-fade-in {
      animation: fade-in 0.6s ease-out;
    }
    
    .animate-shake {
      animation: shake 0.4s ease-in-out;
    }
    
    .animate-slide-down {
      animation: slide-down 0.3s ease-out;
    }
    
    .animate-bounce-subtle {
      animation: bounce-subtle 2s infinite;
    }
    
    .opacity-0 {
      opacity: 0;
    }
    
    .opacity-100 {
      opacity: 1;
    }
    
    .scale-95 {
      transform: scale(0.95);
    }
    
    .scale-100 {
      transform: scale(1);
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState } = React;

    // Ð˜ÐºÐ¾Ð½ÐºÐ¸ Ð² Ð²Ð¸Ð´Ðµ SVG ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚Ð¾Ð²
    const SearchIcon = ({ className = '' }) => (
      React.createElement('svg', {
        xmlns: 'http://www.w3.org/2000/svg',
        width: 24,
        height: 24,
        viewBox: '0 0 24 24',
        fill: 'none',
        stroke: 'currentColor',
        strokeWidth: 2,
        strokeLinecap: 'round',
        strokeLinejoin: 'round',
        className
      },
        React.createElement('circle', { cx: 11, cy: 11, r: 8 }),
        React.createElement('path', { d: 'm21 21-4.3-4.3' })
      )
    );

    const MessageCircleIcon = ({ className = '' }) => (
      React.createElement('svg', {
        xmlns: 'http://www.w3.org/2000/svg',
        width: 24,
        height: 24,
        viewBox: '0 0 24 24',
        fill: 'none',
        stroke: 'currentColor',
        strokeWidth: 2,
        strokeLinecap: 'round',
        strokeLinejoin: 'round',
        className
      },
        React.createElement('path', { d: 'M7.9 20A9 9 0 1 0 4 16.1L2 22Z' })
      )
    );

    const SettingsIcon = ({ className = '' }) => (
      React.createElement('svg', {
        xmlns: 'http://www.w3.org/2000/svg',
        width: 24,
        height: 24,
        viewBox: '0 0 24 24',
        fill: 'none',
        stroke: 'currentColor',
        strokeWidth: 2,
        strokeLinecap: 'round',
        strokeLinejoin: 'round',
        className
      },
        React.createElement('path', { d: 'M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z' }),
        React.createElement('circle', { cx: 12, cy: 12, r: 3 })
      )
    );

    const AlertCircleIcon = ({ className = '' }) => (
      React.createElement('svg', {
        xmlns: 'http://www.w3.org/2000/svg',
        width: 24,
        height: 24,
        viewBox: '0 0 24 24',
        fill: 'none',
        stroke: 'currentColor',
        strokeWidth: 2,
        strokeLinecap: 'round',
        strokeLinejoin: 'round',
        className
      },
        React.createElement('circle', { cx: 12, cy: 12, r: 10 }),
        React.createElement('line', { x1: 12, y1: 8, x2: 12, y2: 12 }),
        React.createElement('line', { x1: 12, y1: 16, x2: 12.01, y2: 16 })
      )
    );

    function ModernMessenger() {
      const [currentScreen, setCurrentScreen] = useState('login');
      const [activeTab, setActiveTab] = useState('chats');
      const [isRegistering, setIsRegistering] = useState(false);
      const [screenTransition, setScreenTransition] = useState(false);
      
      const [loginData, setLoginData] = useState({ username: '', password: '' });
      const [registerData, setRegisterData] = useState({ email: '', username: '', password: '' });
      const [error, setError] = useState('');
      
      const [registeredUsers, setRegisteredUsers] = useState([]);
      const [user, setUser] = useState(null);
      const [searchActive, setSearchActive] = useState(false);

      const validateUsername = (username) => {
        const cleanUsername = username.replace('@', '');
        const regex = /^[a-zA-Z0-9]{4,24}$/;
        return regex.test(cleanUsername);
      };

      const handleLogin = () => {
        setError('');
        const cleanUsername = loginData.username.replace('@', '');
        
        if (!loginData.username || !loginData.password) {
          setError('Please fill in all fields');
          return;
        }

        if (!validateUsername(cleanUsername)) {
          setError('Invalid username format');
          return;
        }

        const existingUser = registeredUsers.find(
          u => u.username.toLowerCase() === cleanUsername.toLowerCase() && u.password === loginData.password
        );

        if (!existingUser) {
          setError('Account does not exist or wrong password');
          return;
        }

        setUser({
          username: existingUser.username,
          email: existingUser.email,
          avatar: `https://api.dicebear.com/7.x/avataaars/svg?seed=${existingUser.username}`
        });
        
        setScreenTransition(true);
        setTimeout(() => {
          setCurrentScreen('main');
          setScreenTransition(false);
        }, 300);
      };

      const handleRegister = () => {
        setError('');
        const cleanUsername = registerData.username.replace('@', '');
        
        if (!registerData.email || !registerData.username || !registerData.password) {
          setError('Please fill in all fields');
          return;
        }

        if (!validateUsername(cleanUsername)) {
          setError('Username must be 4-24 characters (letters and numbers only)');
          return;
        }

        const userExists = registeredUsers.find(
          u => u.username.toLowerCase() === cleanUsername.toLowerCase()
        );

        if (userExists) {
          setError('Username already taken');
          return;
        }

        const newUser = {
          email: registerData.email,
          username: cleanUsername,
          password: registerData.password
        };

        setRegisteredUsers([...registeredUsers, newUser]);
        setUser({
          username: cleanUsername,
          email: registerData.email,
          avatar: `https://api.dicebear.com/7.x/avataaars/svg?seed=${cleanUsername}`
        });
        
        setScreenTransition(true);
        setTimeout(() => {
          setCurrentScreen('main');
          setScreenTransition(false);
        }, 300);
      };

      const switchAuthMode = () => {
        setError('');
        setScreenTransition(true);
        setTimeout(() => {
          setIsRegistering(!isRegistering);
          setScreenTransition(false);
        }, 200);
      };

      const chats = [
        { id: 1, username: 'alex_dev', lastMessage: 'Hey, how are you?', time: '10:30', unread: 2, avatar: 'https://api.dicebear.com/7.x/avataaars/svg?seed=alex' },
        { id: 2, username: 'sarah_design', lastMessage: 'Check out this new design', time: '09:15', unread: 0, avatar: 'https://api.dicebear.com/7.x/avataaars/svg?seed=sarah' },
        { id: 3, username: 'mike_tech', lastMessage: 'Meeting at 3pm', time: 'Yesterday', unread: 1, avatar: 'https://api.dicebear.com/7.x/avataaars/svg?seed=mike' },
        { id: 4, username: 'emma_creative', lastMessage: 'Sounds good!', time: 'Yesterday', unread: 0, avatar: 'https://api.dicebear.com/7.x/avataaars/svg?seed=emma' },
      ];

      if (currentScreen === 'login') {
        return React.createElement('div', { className: 'login-container' },
          React.createElement('div', { 
            className: `login-box ${screenTransition ? 'opacity-0 scale-95' : 'opacity-100 scale-100'}` 
          },
            React.createElement('div', { className: 'login-header animate-fade-in' },
              React.createElement('div', { className: 'logo-circle' },
                React.createElement(MessageCircleIcon, { className: 'logo-icon' })
              ),
              React.createElement('h1', { className: 'login-title' }, 'Messenger'),
              React.createElement('p', { className: 'login-subtitle' }, 'Connect with everyone')
            ),

            error && React.createElement('div', { className: 'error-box animate-shake' },
              React.createElement(AlertCircleIcon, { className: 'error-icon' }),
              React.createElement('p', { className: 'error-text' }, error)
            ),

            !isRegistering 
              ? React.createElement('div', null,
                  React.createElement('input', {
                    type: 'text',
                    placeholder: '@username',
                    value: loginData.username,
                    onChange: (e) => {
                      setError('');
                      setLoginData({...loginData, username: e.target.value});
                    },
                    onKeyPress: (e) => e.key === 'Enter' && handleLogin(),
                    className: 'input-field'
                  }),
                  React.createElement('input', {
                    type: 'password',
                    placeholder: 'Password',
                    value: loginData.password,
                    onChange: (e) => {
                      setError('');
                      setLoginData({...loginData, password: e.target.value});
                    },
                    onKeyPress: (e) => e.key === 'Enter' && handleLogin(),
                    className: 'input-field'
                  }),
                  React.createElement('button', {
                    onClick: handleLogin,
                    className: 'btn-primary'
                  }, 'Log In'),
                  React.createElement('div', { className: 'auth-switch' },
                    React.createElement('span', { className: 'auth-switch-text' }, "Don't have an account? "),
                    React.createElement('button', {
                      onClick: switchAuthMode,
                      className: 'auth-switch-btn'
                    }, 'Register')
                  )
                )
              : React.createElement('div', null,
                  React.createElement('input', {
                    type: 'email',
                    placeholder: 'Email',
                    value: registerData.email,
                    onChange: (e) => {
                      setError('');
                      setRegisterData({...registerData, email: e.target.value});
                    },
                    onKeyPress: (e) => e.key === 'Enter' && handleRegister(),
                    className: 'input-field'
                  }),
                  React.createElement('input', {
                    type: 'text',
                    placeholder: '@username (4-24 characters)',
                    value: registerData.username,
                    onChange: (e) => {
                      setError('');
                      const value = e.target.value.replace(/[^a-zA-Z0-9@]/g, '');
                      if (value.length <= 25) {
                        setRegisterData({...registerData, username: value});
                      }
                    },
                    onKeyPress: (e) => e.key === 'Enter' && handleRegister(),
                    className: 'input-field'
                  }),
                  React.createElement('input', {
                    type: 'password',
                    placeholder: 'Password',
                    value: registerData.password,
                    onChange: (e) => {
                      setError('');
                      setRegisterData({...registerData, password: e.target.value});
                    },
                    onKeyPress: (e) => e.key === 'Enter' && handleRegister(),
                    className: 'input-field'
                  }),
                  React.createElement('button', {
                    onClick: handleRegister,
                    className: 'btn-primary'
                  }, 'Register'),
                  React.createElement('div', { className: 'auth-switch' },
                    React.createElement('span', { className: 'auth-switch-text' }, 'Already have an account? '),
                    React.createElement('button', {
                      onClick: switchAuthMode,
                      className: 'auth-switch-btn'
                    }, 'Log In')
                  )
                )
          )
        );
      }

      return React.createElement('div', { className: 'main-container' },
        activeTab === 'chats' && React.createElement('div', { className: 'animate-fade-in' },
          React.createElement('div', { className: 'header' },
            React.createElement('h1', { className: 'header-title' }, 'Chats'),
            React.createElement('button', {
              onClick: () => setSearchActive(!searchActive),
              className: 'icon-btn'
            },
              React.createElement(SearchIcon, { className: 'nav-icon active' })
            )
          ),

          searchActive && React.createElement('div', { className: 'search-bar animate-slide-down' },
            React.createElement('input', {
              type: 'text',
              placeholder: 'Search chats...',
              className: 'search-input'
            })
          ),

          React.createElement('div', { className: 'chats-list' },
            chats.map((chat, index) => 
              React.createElement('div', {
                key: chat.id,
                className: 'chat-item',
                style: { 
                  animation: `slide-in-left 0.4s ease-out ${index * 0.1}s both` 
                }
              },
                React.createElement('img', {
                  src: chat.avatar,
                  alt: chat.username,
                  className: 'chat-avatar'
                }),
                React.createElement('div', { className: 'chat-info' },
                  React.createElement('div', { className: 'chat-header' },
                    React.createElement('span', { className: 'chat-username' }, `@${chat.username}`),
                    React.createElement('span', { className: 'chat-time' }, chat.time)
                  ),
                  React.createElement('p', { className: 'chat-last-message' }, chat.lastMessage)
                ),
                chat.unread > 0 && React.createElement('div', { 
                  className: 'unread-badge animate-bounce-subtle'
                }, chat.unread)
              )
            )
          )
        ),

        activeTab === 'settings' && user && React.createElement('div', { className: 'settings-container animate-fade-in' },
          React.createElement('div', { className: 'profile-section' },
            React.createElement('img', {
              src: user.avatar,
              alt: user.username,
              className: 'profile-avatar'
            }),
            React.createElement('h2', { className: 'profile-name' }, `@${user.username}`)
          ),

          React.createElement('div', { className: 'settings-section' },
            React.createElement('h3', { className: 'section-title' }, 'Account'),
            React.createElement('div', { className: 'settings-item' },
              React.createElement('p', { className: 'settings-label' }, 'Email'),
              React.createElement('p', { className: 'settings-value' }, user.email)
            ),
            React.createElement('div', { className: 'settings-item' },
              React.createElement('p', { className: 'settings-label' }, 'Username'),
              React.createElement('p', { className: 'settings-value' }, `@${user.username}`)
            )
          ),

          React.createElement('div', { className: 'settings-section' },
            React.createElement('h3', { className: 'section-title' }, 'Settings'),
            React.createElement('div', { className: 'settings-item' },
              React.createElement('p', { className: 'settings-value' }, 'Chat Settings')
            ),
            React.createElement('div', { className: 'settings-item' },
              React.createElement('p', { className: 'settings-value' }, 'Privacy')
            ),
            React.createElement('div', { className: 'settings-item' },
              React.createElement('p', { className: 'settings-value' }, 'Security')
            )
          ),

          React.createElement('div', { className: 'settings-section' },
            React.createElement('h3', { className: 'section-title' }, 'Support'),
            React.createElement('div', { className: 'settings-item' },
              React.createElement('p', { className: 'settings-value' }, 'Contact Support')
            )
          )
        ),

        React.createElement('div', { className: 'bottom-nav' },
          React.createElement('div', { className: 'nav-container' },
            React.createElement('button', {
              onClick: () => setActiveTab('chats'),
              className: `nav-btn ${activeTab === 'chats' ? 'active' : ''}`
            },
              React.createElement(MessageCircleIcon, { 
                className: `nav-icon ${activeTab === 'chats' ? 'active' : 'inactive'}` 
              }),
              React.createElement('span', { 
                className: `nav-label ${activeTab === 'chats' ? 'active' : 'inactive'}` 
              }, 'Chats')
            ),
            React.createElement('button', {
              onClick: () => setActiveTab('settings'),
              className: `nav-btn ${activeTab === 'settings' ? 'active' : ''}`
            },
              React.createElement(SettingsIcon, { 
                className: `nav-icon ${activeTab === 'settings' ? 'active' : 'inactive'}` 
              }),
              React.createElement('span', { 
                className: `nav-label ${activeTab === 'settings' ? 'active' : 'inactive'}` 
              }, 'Settings')
            )
          )
        )
      );
    }

    ReactDOM.render(React.createElement(ModernMessenger), document.getElementById('root'));
  </script>
</body>
  </html>
